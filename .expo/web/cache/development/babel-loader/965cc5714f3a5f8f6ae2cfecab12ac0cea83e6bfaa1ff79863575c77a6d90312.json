{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\nvar _react = _interopRequireWildcard(require(\"react\"));\nvar _Popper = require(\"../Popper\");\nvar _utils = require(\"../../../utils\");\nvar _hooks = require(\"../../../hooks\");\nvar _PopoverContext = require(\"./PopoverContext\");\nvar _Box = _interopRequireDefault(require(\"../../primitives/Box\"));\nvar _Backdrop = _interopRequireDefault(require(\"../Backdrop\"));\nvar _focus = require(\"@react-native-aria/focus\");\nvar _Transitions = require(\"../Transitions\");\nvar _reactNative = require(\"react-native-web/dist/index\");\nvar _utils2 = require(\"@react-aria/utils\");\nvar _Overlay = require(\"../../primitives/Overlay\");\nvar _this = this,\n  _jsxFileName = \"/Users/himanshusatija/projects/nativebase-v3/src/components/composites/Popover/Popover.tsx\";\nvar Popover = function Popover(_ref, ref) {\n  var onOpen = _ref.onOpen,\n    trigger = _ref.trigger,\n    onClose = _ref.onClose,\n    isOpenProp = _ref.isOpen,\n    children = _ref.children,\n    defaultIsOpen = _ref.defaultIsOpen,\n    initialFocusRef = _ref.initialFocusRef,\n    finalFocusRef = _ref.finalFocusRef,\n    _ref$trapFocus = _ref.trapFocus,\n    trapFocus = _ref$trapFocus === void 0 ? true : _ref$trapFocus,\n    rest = (0, _objectWithoutProperties2.default)(_ref, [\"onOpen\", \"trigger\", \"onClose\", \"isOpen\", \"children\", \"defaultIsOpen\", \"initialFocusRef\", \"finalFocusRef\", \"trapFocus\"]);\n  var triggerRef = _react.default.useRef(null);\n  var mergedRef = (0, _utils.mergeRefs)([triggerRef]);\n  var _useControllableState = (0, _hooks.useControllableState)({\n      value: isOpenProp,\n      defaultValue: defaultIsOpen,\n      onChange: function onChange(value) {\n        value ? onOpen && onOpen() : onClose && onClose();\n      }\n    }),\n    _useControllableState2 = (0, _slicedToArray2.default)(_useControllableState, 2),\n    isOpen = _useControllableState2[0],\n    setIsOpen = _useControllableState2[1];\n  var _React$useState = _react.default.useState(false),\n    _React$useState2 = (0, _slicedToArray2.default)(_React$useState, 2),\n    bodyMounted = _React$useState2[0],\n    setBodyMounted = _React$useState2[1];\n  var _React$useState3 = _react.default.useState(false),\n    _React$useState4 = (0, _slicedToArray2.default)(_React$useState3, 2),\n    headerMounted = _React$useState4[0],\n    setHeaderMounted = _React$useState4[1];\n  var popoverContentId = (0, _utils2.useId)() + \"-content\";\n  var headerId = popoverContentId + \"-header\";\n  var bodyId = popoverContentId + \"-body\";\n  var handleOpen = _react.default.useCallback(function () {\n    setIsOpen(true);\n  }, [setIsOpen]);\n  var updatedTrigger = function updatedTrigger() {\n    return trigger({\n      'ref': mergedRef,\n      'onPress': handleOpen,\n      'aria-expanded': isOpen ? true : false,\n      'aria-controls': isOpen ? popoverContentId : undefined,\n      'aria-haspopup': true\n    }, {\n      open: isOpen\n    });\n  };\n  var handleClose = function handleClose() {\n    setIsOpen(false);\n  };\n  return _react.default.createElement(_Box.default, {\n    ref: ref,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 5\n    }\n  }, updatedTrigger(), _react.default.createElement(_Overlay.Overlay, {\n    isOpen: isOpen,\n    onRequestClose: handleClose,\n    useRNModalOnAndroid: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }\n  }, _react.default.createElement(_Transitions.PresenceTransition, {\n    initial: {\n      opacity: 0\n    },\n    animate: {\n      opacity: 1,\n      transition: {\n        duration: 150\n      }\n    },\n    exit: {\n      opacity: 0,\n      scale: 0.95,\n      transition: {\n        duration: 100\n      }\n    },\n    visible: isOpen,\n    style: _reactNative.StyleSheet.absoluteFill,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  }, _react.default.createElement(_Popper.Popper, (0, _extends2.default)({\n    onClose: handleClose,\n    triggerRef: triggerRef\n  }, rest, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 11\n    }\n  }), _react.default.createElement(_Backdrop.default, {\n    onPress: handleClose,\n    bg: \"transparent\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }\n  }), _react.default.createElement(_PopoverContext.PopoverContext.Provider, {\n    value: {\n      onClose: handleClose,\n      initialFocusRef: initialFocusRef,\n      finalFocusRef: finalFocusRef,\n      popoverContentId: popoverContentId,\n      bodyId: bodyId,\n      headerId: headerId,\n      headerMounted: headerMounted,\n      bodyMounted: bodyMounted,\n      setBodyMounted: setBodyMounted,\n      setHeaderMounted: setHeaderMounted\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }\n  }, _react.default.createElement(_focus.FocusScope, {\n    contain: trapFocus,\n    restoreFocus: true,\n    autoFocus: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 15\n    }\n  }, children))))));\n};\nvar _default = (0, _react.memo)((0, _react.forwardRef)(Popover));\nexports.default = _default;","map":{"version":3,"names":["_react","_interopRequireWildcard","require","_Popper","_utils","_hooks","_PopoverContext","_Box","_interopRequireDefault","_Backdrop","_focus","_Transitions","_reactNative","_utils2","_Overlay","Popover","_ref","ref","onOpen","trigger","onClose","isOpenProp","isOpen","children","defaultIsOpen","initialFocusRef","finalFocusRef","_ref$trapFocus","trapFocus","rest","_objectWithoutProperties2","default","triggerRef","useRef","mergedRef","mergeRefs","_useControllableState","useControllableState","value","defaultValue","onChange","_useControllableState2","_slicedToArray2","setIsOpen","_React$useState","useState","_React$useState2","bodyMounted","setBodyMounted","_React$useState3","_React$useState4","headerMounted","setHeaderMounted","popoverContentId","useId","headerId","bodyId","handleOpen","useCallback","updatedTrigger","undefined","open","handleClose","createElement","__self","_this","__source","fileName","_jsxFileName","lineNumber","columnNumber","Overlay","onRequestClose","useRNModalOnAndroid","PresenceTransition","initial","opacity","animate","transition","duration","exit","scale","visible","style","StyleSheet","absoluteFill","Popper","_extends2","onPress","bg","PopoverContext","Provider","FocusScope","contain","restoreFocus","autoFocus","memo","forwardRef"],"sources":["E:\\Login-UI-UX-React-Native\\node_modules\\native-base\\lib\\commonjs\\components\\composites\\Popover\\Popover.tsx"],"sourcesContent":["import React, { forwardRef, memo } from 'react';\nimport { Popper } from '../Popper';\nimport type { IPopoverProps } from './types';\nimport { mergeRefs } from '../../../utils';\nimport { useControllableState } from '../../../hooks';\nimport { PopoverContext } from './PopoverContext';\nimport Box from '../../primitives/Box';\nimport Backdrop from '../Backdrop';\nimport { FocusScope } from '@react-native-aria/focus';\nimport { PresenceTransition } from '../Transitions';\nimport { StyleSheet } from 'react-native';\nimport { useId } from '@react-aria/utils';\nimport { Overlay } from '../../primitives/Overlay';\n\nconst Popover = (\n  {\n    onOpen,\n    trigger,\n    onClose,\n    isOpen: isOpenProp,\n    children,\n    defaultIsOpen,\n    initialFocusRef,\n    finalFocusRef,\n    trapFocus = true,\n    ...rest\n  }: IPopoverProps,\n  ref: any\n) => {\n  const triggerRef = React.useRef(null);\n  const mergedRef = mergeRefs([triggerRef]);\n  const [isOpen, setIsOpen] = useControllableState({\n    value: isOpenProp,\n    defaultValue: defaultIsOpen,\n    onChange: (value) => {\n      value ? onOpen && onOpen() : onClose && onClose();\n    },\n  });\n\n  const [bodyMounted, setBodyMounted] = React.useState(false);\n  const [headerMounted, setHeaderMounted] = React.useState(false);\n\n  const popoverContentId = `${useId()}-content`;\n  const headerId = `${popoverContentId}-header`;\n  const bodyId = `${popoverContentId}-body`;\n\n  const handleOpen = React.useCallback(() => {\n    setIsOpen(true);\n  }, [setIsOpen]);\n\n  let updatedTrigger = () => {\n    return trigger(\n      {\n        'ref': mergedRef,\n        'onPress': handleOpen,\n        'aria-expanded': isOpen ? true : false,\n        'aria-controls': isOpen ? popoverContentId : undefined,\n        'aria-haspopup': true,\n      },\n      { open: isOpen }\n    );\n  };\n\n  const handleClose = () => {\n    setIsOpen(false);\n  };\n\n  return (\n    <Box ref={ref}>\n      {updatedTrigger()}\n      <Overlay isOpen={isOpen} onRequestClose={handleClose} useRNModalOnAndroid>\n        <PresenceTransition\n          initial={{ opacity: 0 }}\n          animate={{ opacity: 1, transition: { duration: 150 } }}\n          exit={{ opacity: 0, scale: 0.95, transition: { duration: 100 } }}\n          visible={isOpen}\n          style={StyleSheet.absoluteFill}\n        >\n          <Popper onClose={handleClose} triggerRef={triggerRef} {...rest}>\n            <Backdrop onPress={handleClose} bg=\"transparent\" />\n            <PopoverContext.Provider\n              value={{\n                onClose: handleClose,\n                initialFocusRef,\n                finalFocusRef,\n                popoverContentId,\n                bodyId,\n                headerId,\n                headerMounted,\n                bodyMounted,\n                setBodyMounted,\n                setHeaderMounted,\n              }}\n            >\n              <FocusScope contain={trapFocus} restoreFocus autoFocus>\n                {children}\n              </FocusScope>\n            </PopoverContext.Provider>\n          </Popper>\n        </PresenceTransition>\n      </Overlay>\n    </Box>\n  );\n};\n\nexport default memo(forwardRef(Popover));\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}