{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { VisuallyHidden } from \"@react-aria/visually-hidden\";\nimport _reactDom from \"react-dom\";\nimport _react, { Fragment, useImperativeHandle, useState } from \"react\";\nvar $de8b453f082d29ae3c4c121e2b261$var$LIVEREGION_TIMEOUT_DELAY = 7000;\nvar $de8b453f082d29ae3c4c121e2b261$var$liveRegionAnnouncer = _react.createRef();\nvar $de8b453f082d29ae3c4c121e2b261$var$node = null;\nvar $de8b453f082d29ae3c4c121e2b261$var$messageId = 0;\nexport function announce(message, assertiveness, timeout) {\n  if (assertiveness === void 0) {\n    assertiveness = 'assertive';\n  }\n  if (timeout === void 0) {\n    timeout = $de8b453f082d29ae3c4c121e2b261$var$LIVEREGION_TIMEOUT_DELAY;\n  }\n  $de8b453f082d29ae3c4c121e2b261$var$ensureInstance(function (announcer) {\n    return announcer.announce(message, assertiveness, timeout);\n  });\n}\nexport function clearAnnouncer(assertiveness) {\n  $de8b453f082d29ae3c4c121e2b261$var$ensureInstance(function (announcer) {\n    return announcer.clear(assertiveness);\n  });\n}\nexport function destroyAnnouncer() {\n  if ($de8b453f082d29ae3c4c121e2b261$var$liveRegionAnnouncer.current) {\n    _reactDom.unmountComponentAtNode($de8b453f082d29ae3c4c121e2b261$var$node);\n    document.body.removeChild($de8b453f082d29ae3c4c121e2b261$var$node);\n    $de8b453f082d29ae3c4c121e2b261$var$node = null;\n  }\n}\nfunction $de8b453f082d29ae3c4c121e2b261$var$ensureInstance(callback) {\n  if (!$de8b453f082d29ae3c4c121e2b261$var$liveRegionAnnouncer.current) {\n    $de8b453f082d29ae3c4c121e2b261$var$node = document.createElement('div');\n    $de8b453f082d29ae3c4c121e2b261$var$node.dataset.liveAnnouncer = 'true';\n    document.body.prepend($de8b453f082d29ae3c4c121e2b261$var$node);\n    _reactDom.render(_react.createElement($de8b453f082d29ae3c4c121e2b261$var$LiveRegionAnnouncer, {\n      ref: $de8b453f082d29ae3c4c121e2b261$var$liveRegionAnnouncer\n    }), $de8b453f082d29ae3c4c121e2b261$var$node, function () {\n      return callback($de8b453f082d29ae3c4c121e2b261$var$liveRegionAnnouncer.current);\n    });\n  } else {\n    callback($de8b453f082d29ae3c4c121e2b261$var$liveRegionAnnouncer.current);\n  }\n}\nvar $de8b453f082d29ae3c4c121e2b261$var$LiveRegionAnnouncer = _react.forwardRef(function (_, ref) {\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    assertiveMessages = _useState2[0],\n    setAssertiveMessages = _useState2[1];\n  var _useState3 = useState([]),\n    _useState4 = _slicedToArray(_useState3, 2),\n    politeMessages = _useState4[0],\n    setPoliteMessages = _useState4[1];\n  var clear = function clear(assertiveness) {\n    if (!assertiveness || assertiveness === 'assertive') {\n      setAssertiveMessages([]);\n    }\n    if (!assertiveness || assertiveness === 'polite') {\n      setPoliteMessages([]);\n    }\n  };\n  var announce = function announce(message, assertiveness, timeout) {\n    if (assertiveness === void 0) {\n      assertiveness = 'assertive';\n    }\n    if (timeout === void 0) {\n      timeout = $de8b453f082d29ae3c4c121e2b261$var$LIVEREGION_TIMEOUT_DELAY;\n    }\n    var id = $de8b453f082d29ae3c4c121e2b261$var$messageId++;\n    if (assertiveness === 'assertive') {\n      setAssertiveMessages(function (messages) {\n        return [].concat(_toConsumableArray(messages), [{\n          id: id,\n          text: message\n        }]);\n      });\n    } else {\n      setPoliteMessages(function (messages) {\n        return [].concat(_toConsumableArray(messages), [{\n          id: id,\n          text: message\n        }]);\n      });\n    }\n    if (message !== '') {\n      setTimeout(function () {\n        if (assertiveness === 'assertive') {\n          setAssertiveMessages(function (messages) {\n            return messages.filter(function (message) {\n              return message.id !== id;\n            });\n          });\n        } else {\n          setPoliteMessages(function (messages) {\n            return messages.filter(function (message) {\n              return message.id !== id;\n            });\n          });\n        }\n      }, timeout);\n    }\n  };\n  useImperativeHandle(ref, function () {\n    return {\n      announce: announce,\n      clear: clear\n    };\n  });\n  return _react.createElement(Fragment, null, _react.createElement($de8b453f082d29ae3c4c121e2b261$var$MessageBlock, {\n    \"aria-live\": \"assertive\"\n  }, assertiveMessages.map(function (message) {\n    return _react.createElement(\"div\", {\n      key: message.id\n    }, message.text);\n  })), _react.createElement($de8b453f082d29ae3c4c121e2b261$var$MessageBlock, {\n    \"aria-live\": \"polite\"\n  }, politeMessages.map(function (message) {\n    return _react.createElement(\"div\", {\n      key: message.id\n    }, message.text);\n  })));\n});\nfunction $de8b453f082d29ae3c4c121e2b261$var$MessageBlock(_ref) {\n  var children = _ref.children,\n    ariaLive = _ref['aria-live'];\n  return _react.createElement(VisuallyHidden, {\n    role: \"log\",\n    \"aria-live\": ariaLive,\n    \"aria-relevant\": \"additions\"\n  }, children);\n}","map":{"version":3,"names":["$de8b453f082d29ae3c4c121e2b261$var$LIVEREGION_TIMEOUT_DELAY","$de8b453f082d29ae3c4c121e2b261$var$liveRegionAnnouncer","_react","createRef","$de8b453f082d29ae3c4c121e2b261$var$node","$de8b453f082d29ae3c4c121e2b261$var$messageId","announce","message","assertiveness","timeout","$de8b453f082d29ae3c4c121e2b261$var$ensureInstance","announcer","clearAnnouncer","clear","destroyAnnouncer","current","_reactDom","unmountComponentAtNode","document","body","removeChild","ensureInstance","callback","createElement","dataset","liveAnnouncer","prepend","render","$de8b453f082d29ae3c4c121e2b261$var$LiveRegionAnnouncer","ref","forwardRef","_","_useState","useState","_useState2","_slicedToArray","assertiveMessages","setAssertiveMessages","_useState3","_useState4","politeMessages","setPoliteMessages","id","messages","concat","_toConsumableArray","text","setTimeout","filter","useImperativeHandle","Fragment","$de8b453f082d29ae3c4c121e2b261$var$MessageBlock","map","key","MessageBlock","_ref","children","ariaLive","VisuallyHidden","role"],"sources":["E:\\Login-UI-UX-React-Native\\node_modules\\@react-aria\\live-announcer\\dist\\packages\\@react-aria\\live-announcer\\src\\LiveAnnouncer.tsx"],"sourcesContent":["/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport React, {Fragment, ReactNode, RefObject, useImperativeHandle, useState} from 'react';\nimport ReactDOM from 'react-dom';\nimport {VisuallyHidden} from '@react-aria/visually-hidden';\n\ntype Assertiveness = 'assertive' | 'polite';\ninterface Announcer {\n  announce(message: string, assertiveness: Assertiveness, timeout: number): void,\n  clear(assertiveness: Assertiveness): void\n}\n\n/* Inspired by https://github.com/AlmeroSteyn/react-aria-live */\nconst LIVEREGION_TIMEOUT_DELAY = 7000;\n\nlet liveRegionAnnouncer = React.createRef<Announcer>();\nlet node: HTMLElement = null;\nlet messageId = 0;\n\n/**\n * Announces the message using screen reader technology.\n */\nexport function announce(\n  message: string,\n  assertiveness: Assertiveness = 'assertive',\n  timeout = LIVEREGION_TIMEOUT_DELAY\n) {\n  ensureInstance(announcer => announcer.announce(message, assertiveness, timeout));\n}\n\n/**\n * Stops all queued announcements.\n */\nexport function clearAnnouncer(assertiveness: Assertiveness) {\n  ensureInstance(announcer => announcer.clear(assertiveness));\n}\n\n/**\n * Removes the announcer from the DOM.\n */\nexport function destroyAnnouncer() {\n  if (liveRegionAnnouncer.current) {\n    ReactDOM.unmountComponentAtNode(node);\n    document.body.removeChild(node);\n    node = null;\n  }\n}\n\n/**\n * Ensures we only have one instance of the announcer so that we don't have elements competing.\n */\nfunction ensureInstance(callback: (announcer: Announcer) => void) {\n  if (!liveRegionAnnouncer.current) {\n    node = document.createElement('div');\n    node.dataset.liveAnnouncer = 'true';\n    document.body.prepend(node);\n    ReactDOM.render(\n      <LiveRegionAnnouncer ref={liveRegionAnnouncer} />,\n      node,\n      () => callback(liveRegionAnnouncer.current)\n    );\n  } else {\n    callback(liveRegionAnnouncer.current);\n  }\n}\n\nconst LiveRegionAnnouncer = React.forwardRef((_, ref: RefObject<Announcer>) => {\n  let [assertiveMessages, setAssertiveMessages] = useState([]);\n  let [politeMessages, setPoliteMessages] = useState([]);\n\n  let clear = (assertiveness: Assertiveness) => {\n    if (!assertiveness || assertiveness === 'assertive') {\n      setAssertiveMessages([]);\n    }\n\n    if (!assertiveness || assertiveness === 'polite') {\n      setPoliteMessages([]);\n    }\n  };\n\n  let announce = (message: string, assertiveness = 'assertive', timeout = LIVEREGION_TIMEOUT_DELAY) => {\n    let id = messageId++;\n\n    if (assertiveness === 'assertive') {\n      setAssertiveMessages(messages => [...messages, {id, text: message}]);\n    } else {\n      setPoliteMessages(messages => [...messages, {id, text: message}]);\n    }\n\n    if (message !== '') {\n      setTimeout(() => {\n        if (assertiveness === 'assertive') {\n          setAssertiveMessages(messages => messages.filter(message => message.id !== id));\n        } else {\n          setPoliteMessages(messages => messages.filter(message => message.id !== id));\n        }\n      }, timeout);\n    }\n  };\n\n  useImperativeHandle(ref, () => ({\n    announce,\n    clear\n  }));\n\n  return (\n    <Fragment>\n      <MessageBlock aria-live=\"assertive\">\n        {assertiveMessages.map(message => <div key={message.id}>{message.text}</div>)}\n      </MessageBlock>\n      <MessageBlock aria-live=\"polite\">\n        {politeMessages.map(message => <div key={message.id}>{message.text}</div>)}\n      </MessageBlock>\n    </Fragment>\n  );\n});\n\ninterface MessageBlockProps {\n   children: ReactNode,\n   'aria-live': Assertiveness\n }\n\nfunction MessageBlock({children, 'aria-live': ariaLive}: MessageBlockProps) {\n  return (\n    <VisuallyHidden\n      role=\"log\"\n      aria-live={ariaLive}\n      aria-relevant=\"additions\">\n      {children}\n    </VisuallyHidden>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}