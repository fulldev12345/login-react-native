{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\nvar _react = _interopRequireDefault(require(\"react\"));\nvar _reactNative = require(\"react-native-web/dist/index\");\nvar _Box = _interopRequireDefault(require(\"../../primitives/Box\"));\nvar _lodash = _interopRequireDefault(require(\"lodash.isnil\"));\nvar _this = this,\n  _jsxFileName = \"/Users/himanshusatija/projects/nativebase-v3/src/components/composites/AspectRatio/index.tsx\";\nvar AspectView = _react.default.forwardRef(function (props, ref) {\n  var _React$useState = _react.default.useState(),\n    _React$useState2 = (0, _slicedToArray2.default)(_React$useState, 2),\n    layout = _React$useState2[0],\n    setLayout = _React$useState2[1];\n  var inputStyle = [_reactNative.StyleSheet.flatten(props.style) || {}];\n  if (layout) {\n    var _layout$width = layout.width,\n      width = _layout$width === void 0 ? 0 : _layout$width,\n      _layout$height = layout.height,\n      height = _layout$height === void 0 ? 0 : _layout$height;\n    if (width === 0) {\n      inputStyle.push({\n        width: height * props.aspectRatio,\n        height: height\n      });\n    } else {\n      inputStyle.push({\n        width: width,\n        height: width / props.aspectRatio\n      });\n    }\n  }\n  return _react.default.createElement(_Box.default, (0, _extends2.default)({}, props, {\n    ref: ref,\n    style: inputStyle,\n    onLayout: function onLayout(_ref) {\n      var inLayout = _ref.nativeEvent.layout;\n      return setLayout(inLayout);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 5\n    }\n  }));\n});\nvar AspectRatio = function AspectRatio(_ref2, ref) {\n  var style = _ref2.style,\n    ratio = _ref2.ratio,\n    children = _ref2.children,\n    props = (0, _objectWithoutProperties2.default)(_ref2, [\"style\", \"ratio\", \"children\"]);\n  var computedStyle = style;\n  var newChildWithProps = _react.default.cloneElement(children, (0, _extends2.default)({}, children.props, {\n    style: _reactNative.StyleSheet.absoluteFillObject\n  }), children.props.children);\n  var aspectRatio = !(0, _lodash.default)(ratio) ? ratio : 4 / 3;\n  if (_reactNative.Platform.OS === 'web') {\n    return _react.default.createElement(AspectView, (0, _extends2.default)({}, props, {\n      aspectRatio: aspectRatio,\n      style: style,\n      ref: ref,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 7\n      }\n    }), newChildWithProps);\n  } else {\n    computedStyle = _reactNative.StyleSheet.flatten([style, {\n      aspectRatio: aspectRatio\n    }]);\n    return _react.default.createElement(_Box.default, (0, _extends2.default)({}, props, {\n      style: computedStyle,\n      ref: ref,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 7\n      }\n    }), newChildWithProps);\n  }\n};\nvar _default = _react.default.memo(_react.default.forwardRef(AspectRatio));\nexports.default = _default;","map":{"version":3,"names":["_react","_interopRequireDefault","require","_reactNative","_Box","_lodash","AspectView","default","forwardRef","props","ref","_React$useState","useState","_React$useState2","_slicedToArray2","layout","setLayout","inputStyle","StyleSheet","flatten","style","_layout$width","width","_layout$height","height","push","aspectRatio","createElement","_extends2","onLayout","_ref","inLayout","nativeEvent","__self","_this","__source","fileName","_jsxFileName","lineNumber","columnNumber","AspectRatio","_ref2","ratio","children","_objectWithoutProperties2","computedStyle","newChildWithProps","cloneElement","absoluteFillObject","Platform","OS","memo"],"sources":["E:\\Login-UI-UX-React-Native\\node_modules\\native-base\\lib\\commonjs\\components\\composites\\AspectRatio\\index.tsx"],"sourcesContent":["import React from 'react';\nimport { StyleSheet, ViewStyle, Platform } from 'react-native';\nimport { default as Box, IBoxProps } from '../../primitives/Box';\nimport isNil from 'lodash.isnil';\n\nexport type IAspectRatioProps = IBoxProps & {\n  style?: ViewStyle;\n  ratio?: number;\n  children: JSX.Element;\n};\n\nconst AspectView = React.forwardRef((props: any, ref?: any) => {\n  const [layout, setLayout] = React.useState();\n  const inputStyle = [StyleSheet.flatten(props.style) || {}];\n  if (layout) {\n    // @ts-ignore\n    let { width = 0, height = 0 } = layout;\n    if (width === 0) {\n      inputStyle.push({ width: height * props.aspectRatio, height });\n    } else {\n      inputStyle.push({ width, height: width / props.aspectRatio });\n    }\n  }\n  return (\n    <Box\n      {...props}\n      ref={ref}\n      style={inputStyle}\n      onLayout={({ nativeEvent: { layout: inLayout } }: any) =>\n        setLayout(inLayout)\n      }\n    />\n  );\n});\n\nconst AspectRatio = (\n  { style, ratio, children, ...props }: IAspectRatioProps,\n  ref?: any\n) => {\n  let computedStyle: ViewStyle | undefined = style;\n  let newChildWithProps = React.cloneElement(\n    children,\n    {\n      ...children.props,\n      style: StyleSheet.absoluteFillObject,\n    },\n    children.props.children\n  );\n  let aspectRatio = !isNil(ratio) ? ratio : 4 / 3;\n\n  // DOC:  It uses a aspectRatio property of React Native and manually calculate on Web\n  if (Platform.OS === 'web') {\n    return (\n      <AspectView {...props} aspectRatio={aspectRatio} style={style} ref={ref}>\n        {newChildWithProps}\n      </AspectView>\n    );\n  } else {\n    computedStyle = StyleSheet.flatten([style, { aspectRatio }]);\n    return (\n      <Box {...props} style={computedStyle} ref={ref}>\n        {newChildWithProps}\n      </Box>\n    );\n  }\n};\n\nexport default React.memo(React.forwardRef(AspectRatio));\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}