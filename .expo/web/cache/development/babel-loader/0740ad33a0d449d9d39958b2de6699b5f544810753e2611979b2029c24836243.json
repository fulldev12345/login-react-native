{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\nvar _react = _interopRequireWildcard(require(\"react\"));\nvar _Box = _interopRequireDefault(require(\"../../primitives/Box\"));\nvar _useThemeProps = require(\"../../../hooks/useThemeProps\");\nvar _Popper = require(\"../Popper\");\nvar _reactNative = require(\"react-native-web/dist/index\");\nvar _hooks = require(\"../../../hooks\");\nvar _useMenu = require(\"./useMenu\");\nvar _Backdrop = _interopRequireDefault(require(\"../Backdrop\"));\nvar _Transitions = require(\"../Transitions\");\nvar _focus = require(\"@react-native-aria/focus\");\nvar _MenuContext = require(\"./MenuContext\");\nvar _Overlay = require(\"../../primitives/Overlay\");\nvar _this = this,\n  _jsxFileName = \"/Users/himanshusatija/projects/nativebase-v3/src/components/composites/Menu/Menu.tsx\";\nvar Menu = function Menu(_ref, ref) {\n  var trigger = _ref.trigger,\n    _ref$closeOnSelect = _ref.closeOnSelect,\n    closeOnSelect = _ref$closeOnSelect === void 0 ? true : _ref$closeOnSelect,\n    children = _ref.children,\n    onOpen = _ref.onOpen,\n    onClose = _ref.onClose,\n    isOpenProp = _ref.isOpen,\n    defaultIsOpen = _ref.defaultIsOpen,\n    _ref$placement = _ref.placement,\n    placement = _ref$placement === void 0 ? 'bottom left' : _ref$placement,\n    restProps = (0, _objectWithoutProperties2.default)(_ref, [\"trigger\", \"closeOnSelect\", \"children\", \"onOpen\", \"onClose\", \"isOpen\", \"defaultIsOpen\", \"placement\"]);\n  var triggerRef = _react.default.useRef(null);\n  var _useControllableState = (0, _hooks.useControllableState)({\n      value: isOpenProp,\n      defaultValue: defaultIsOpen,\n      onChange: function onChange(value) {\n        value ? onOpen && onOpen() : onClose && onClose();\n      }\n    }),\n    _useControllableState2 = (0, _slicedToArray2.default)(_useControllableState, 2),\n    isOpen = _useControllableState2[0],\n    setIsOpen = _useControllableState2[1];\n  var _usePropsResolution = (0, _useThemeProps.usePropsResolution)('Menu', restProps),\n    transition = _usePropsResolution.transition,\n    newProps = (0, _objectWithoutProperties2.default)(_usePropsResolution, [\"transition\"]);\n  var handleOpen = _react.default.useCallback(function () {\n    setIsOpen(true);\n  }, [setIsOpen]);\n  var handleClose = _react.default.useCallback(function () {\n    setIsOpen(false);\n  }, [setIsOpen]);\n  var triggerProps = (0, _useMenu.useMenuTrigger)({\n    handleOpen: handleOpen,\n    isOpen: isOpen\n  });\n  var updatedTrigger = function updatedTrigger() {\n    return trigger((0, _extends2.default)({}, triggerProps, {\n      ref: triggerRef,\n      onPress: handleOpen\n    }), {\n      open: isOpen\n    });\n  };\n  _react.default.useEffect(function () {\n    if (isOpen) {\n      _reactNative.AccessibilityInfo.announceForAccessibility('Popup window');\n    }\n  }, [isOpen]);\n  return _react.default.createElement(_react.default.Fragment, null, updatedTrigger(), _react.default.createElement(_Overlay.Overlay, {\n    isOpen: isOpen,\n    onRequestClose: handleClose,\n    useRNModalOnAndroid: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }\n  }, _react.default.createElement(_Transitions.PresenceTransition, (0, _extends2.default)({\n    visible: isOpen\n  }, transition, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }\n  }), _react.default.createElement(_Popper.Popper, (0, _extends2.default)({\n    triggerRef: triggerRef,\n    onClose: handleClose,\n    placement: placement\n  }, restProps, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 11\n    }\n  }), _react.default.createElement(_Backdrop.default, {\n    bg: \"transparent\",\n    onPress: handleClose,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }\n  }), _react.default.createElement(_Popper.Popper.Content, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }\n  }, _react.default.createElement(_MenuContext.MenuContext.Provider, {\n    value: {\n      closeOnSelect: closeOnSelect,\n      onClose: handleClose\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 15\n    }\n  }, _react.default.createElement(_focus.FocusScope, {\n    contain: true,\n    restoreFocus: true,\n    autoFocus: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 17\n    }\n  }, _react.default.createElement(MenuContent, (0, _extends2.default)({\n    menuRef: ref\n  }, newProps, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 19\n    }\n  }), children))))))));\n};\nvar MenuContent = function MenuContent(_ref2) {\n  var menuRef = _ref2.menuRef,\n    restProps = (0, _objectWithoutProperties2.default)(_ref2, [\"menuRef\"]);\n  var menuProps = (0, _useMenu.useMenu)();\n  var typeaheadProps = (0, _useMenu.useMenuTypeahead)(menuProps);\n  return _react.default.createElement(_Box.default, (0, _extends2.default)({}, restProps, menuProps, typeaheadProps, {\n    ref: menuRef,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 5\n    }\n  }), _react.default.createElement(_reactNative.ScrollView, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }\n  }, restProps.children));\n};\nvar _default = (0, _react.memo)((0, _react.forwardRef)(Menu));\nexports.default = _default;","map":{"version":3,"names":["_react","_interopRequireWildcard","require","_Box","_interopRequireDefault","_useThemeProps","_Popper","_reactNative","_hooks","_useMenu","_Backdrop","_Transitions","_focus","_MenuContext","_Overlay","Menu","_ref","ref","trigger","_ref$closeOnSelect","closeOnSelect","children","onOpen","onClose","isOpenProp","isOpen","defaultIsOpen","_ref$placement","placement","restProps","_objectWithoutProperties2","default","triggerRef","useRef","_useControllableState","useControllableState","value","defaultValue","onChange","_useControllableState2","_slicedToArray2","setIsOpen","_usePropsResolution","usePropsResolution","transition","newProps","handleOpen","useCallback","handleClose","triggerProps","useMenuTrigger","updatedTrigger","_extends2","onPress","open","useEffect","AccessibilityInfo","announceForAccessibility","createElement","Fragment","Overlay","onRequestClose","useRNModalOnAndroid","__self","_this","__source","fileName","_jsxFileName","lineNumber","columnNumber","PresenceTransition","visible","Popper","bg","Content","MenuContext","Provider","FocusScope","contain","restoreFocus","autoFocus","MenuContent","menuRef","_ref2","menuProps","useMenu","typeaheadProps","useMenuTypeahead","ScrollView","memo","forwardRef"],"sources":["E:\\Login-UI-UX-React-Native\\node_modules\\native-base\\lib\\commonjs\\components\\composites\\Menu\\Menu.tsx"],"sourcesContent":["import React, { memo, forwardRef } from 'react';\nimport type { IMenuProps } from './types';\nimport Box from '../../primitives/Box';\nimport { usePropsResolution } from '../../../hooks/useThemeProps';\nimport { Popper } from '../Popper';\nimport { AccessibilityInfo, ScrollView } from 'react-native';\nimport { useControllableState } from '../../../hooks';\nimport { useMenuTrigger, useMenu, useMenuTypeahead } from './useMenu';\nimport Backdrop from '../Backdrop';\nimport { PresenceTransition } from '../Transitions';\nimport { FocusScope } from '@react-native-aria/focus';\nimport { MenuContext } from './MenuContext';\nimport { Overlay } from '../../primitives/Overlay';\n\nconst Menu = (\n  {\n    trigger,\n    closeOnSelect = true,\n    children,\n    onOpen,\n    onClose,\n    isOpen: isOpenProp,\n    defaultIsOpen,\n    placement = 'bottom left',\n    ...restProps\n  }: IMenuProps,\n  ref?: any\n) => {\n  const triggerRef = React.useRef(null);\n  const [isOpen, setIsOpen] = useControllableState({\n    value: isOpenProp,\n    defaultValue: defaultIsOpen,\n    onChange: (value) => {\n      value ? onOpen && onOpen() : onClose && onClose();\n    },\n  });\n\n  const { transition, ...newProps } = usePropsResolution('Menu', restProps);\n  const handleOpen = React.useCallback(() => {\n    setIsOpen(true);\n  }, [setIsOpen]);\n\n  const handleClose = React.useCallback(() => {\n    setIsOpen(false);\n  }, [setIsOpen]);\n\n  const triggerProps = useMenuTrigger({\n    handleOpen,\n    isOpen,\n  });\n\n  let updatedTrigger = () => {\n    return trigger(\n      {\n        ...triggerProps,\n        ref: triggerRef,\n        onPress: handleOpen,\n      },\n      { open: isOpen }\n    );\n  };\n\n  React.useEffect(() => {\n    if (isOpen) {\n      AccessibilityInfo.announceForAccessibility('Popup window');\n    }\n  }, [isOpen]);\n\n  return (\n    <>\n      {updatedTrigger()}\n      <Overlay isOpen={isOpen} onRequestClose={handleClose} useRNModalOnAndroid>\n        <PresenceTransition visible={isOpen} {...transition}>\n          <Popper\n            triggerRef={triggerRef}\n            onClose={handleClose}\n            placement={placement}\n            {...restProps}\n          >\n            <Backdrop bg=\"transparent\" onPress={handleClose} />\n            <Popper.Content>\n              <MenuContext.Provider\n                value={{ closeOnSelect, onClose: handleClose }}\n              >\n                <FocusScope contain restoreFocus autoFocus>\n                  <MenuContent menuRef={ref} {...newProps}>\n                    {children}\n                  </MenuContent>\n                </FocusScope>\n              </MenuContext.Provider>\n            </Popper.Content>\n          </Popper>\n        </PresenceTransition>\n      </Overlay>\n    </>\n  );\n};\n\nconst MenuContent = ({\n  menuRef,\n  ...restProps\n}: Omit<IMenuProps, 'trigger'> & { menuRef: any }) => {\n  const menuProps = useMenu();\n  const typeaheadProps = useMenuTypeahead(menuProps);\n\n  return (\n    <Box {...restProps} {...menuProps} {...typeaheadProps} ref={menuRef}>\n      <ScrollView>{restProps.children}</ScrollView>\n    </Box>\n  );\n};\n\nexport default memo(forwardRef(Menu));\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}