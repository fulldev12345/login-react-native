{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PopoverContent = void 0;\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\nvar _hooks = require(\"../../../hooks\");\nvar _react = _interopRequireDefault(require(\"react\"));\nvar _reactNative = require(\"react-native-web/dist/index\");\nvar _Popper = require(\"../Popper\");\nvar _PopoverContext = require(\"./PopoverContext\");\nvar _this = this,\n  _jsxFileName = \"/Users/himanshusatija/projects/nativebase-v3/src/components/composites/Popover/PopoverContent.tsx\";\nvar PopoverContent = _react.default.forwardRef(function (props, ref) {\n  var _ref, _ref2, _props$bgColor;\n  var _React$useContext = _react.default.useContext(_PopoverContext.PopoverContext),\n    onClose = _React$useContext.onClose,\n    initialFocusRef = _React$useContext.initialFocusRef,\n    finalFocusRef = _React$useContext.finalFocusRef,\n    popoverContentId = _React$useContext.popoverContentId,\n    headerMounted = _React$useContext.headerMounted,\n    bodyMounted = _React$useContext.bodyMounted,\n    bodyId = _React$useContext.bodyId,\n    headerId = _React$useContext.headerId;\n  var newProps = (0, _hooks.usePropsResolution)('PopoverContent', props);\n  var arrowDefaultColor = (_ref = (_ref2 = (_props$bgColor = props.bgColor) != null ? _props$bgColor : props.bg) != null ? _ref2 : props.backgroundColor) != null ? _ref : newProps.backgroundColor;\n  var color = (0, _hooks.useToken)('colors', arrowDefaultColor);\n  _react.default.useEffect(function () {\n    var finalFocusRefCurrentVal = finalFocusRef == null ? void 0 : finalFocusRef.current;\n    if (initialFocusRef && initialFocusRef.current) {\n      initialFocusRef.current.focus();\n    }\n    return function () {\n      if (finalFocusRefCurrentVal) {\n        finalFocusRefCurrentVal.focus();\n      }\n    };\n  }, [finalFocusRef, initialFocusRef]);\n  (0, _hooks.useKeyboardDismissable)({\n    enabled: true,\n    callback: onClose\n  });\n  var arrowElement = null;\n  var restChildren = [];\n  _react.default.Children.forEach(props.children, function (child) {\n    if (child.type.displayName === 'PopperArrow') {\n      var _child$props$color;\n      arrowElement = _react.default.cloneElement(child, {\n        backgroundColor: (_child$props$color = child.props.color) != null ? _child$props$color : color\n      });\n    } else {\n      restChildren.push(child);\n    }\n  });\n  var accessibilityProps = _reactNative.Platform.OS === 'web' ? {\n    'accessibilityRole': 'dialog',\n    'aria-labelledby': headerMounted ? headerId : undefined,\n    'aria-describedby': bodyMounted ? bodyId : undefined\n  } : {};\n  return _react.default.createElement(_Popper.Popper.Content, (0, _extends2.default)({\n    nativeID: popoverContentId\n  }, accessibilityProps, newProps, props, {\n    ref: ref,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }\n  }), arrowElement, restChildren);\n});\nexports.PopoverContent = PopoverContent;\nPopoverContent.displayName = 'PopoverContent';","map":{"version":3,"names":["_hooks","require","_react","_interopRequireDefault","_reactNative","_Popper","_PopoverContext","PopoverContent","default","forwardRef","props","ref","_ref","_ref2","_props$bgColor","_React$useContext","useContext","PopoverContext","onClose","initialFocusRef","finalFocusRef","popoverContentId","headerMounted","bodyMounted","bodyId","headerId","newProps","usePropsResolution","arrowDefaultColor","bgColor","bg","backgroundColor","color","useToken","useEffect","finalFocusRefCurrentVal","current","focus","useKeyboardDismissable","enabled","callback","arrowElement","restChildren","Children","forEach","children","child","type","displayName","_child$props$color","cloneElement","push","accessibilityProps","Platform","OS","undefined","createElement","Popper","Content","_extends2","nativeID","__self","_this","__source","fileName","_jsxFileName","lineNumber","columnNumber"],"sources":["E:\\Login-UI-UX-React-Native\\node_modules\\native-base\\lib\\commonjs\\components\\composites\\Popover\\PopoverContent.tsx"],"sourcesContent":["import {\n  useKeyboardDismissable,\n  usePropsResolution,\n  useToken,\n} from '../../../hooks';\nimport React from 'react';\nimport { Platform } from 'react-native';\nimport type { IPopoverContentProps } from './types';\nimport { Popper } from '../Popper';\nimport { PopoverContext } from './PopoverContext';\n\nexport const PopoverContent = React.forwardRef(\n  (props: IPopoverContentProps, ref: any) => {\n    const {\n      onClose,\n      initialFocusRef,\n      finalFocusRef,\n      popoverContentId,\n      headerMounted,\n      bodyMounted,\n      bodyId,\n      headerId,\n    } = React.useContext(PopoverContext);\n    let newProps = usePropsResolution('PopoverContent', props);\n\n    const arrowDefaultColor =\n      props.bgColor ??\n      props.bg ??\n      props.backgroundColor ??\n      newProps.backgroundColor;\n    const color = useToken('colors', arrowDefaultColor);\n\n    React.useEffect(() => {\n      let finalFocusRefCurrentVal = finalFocusRef?.current;\n      if (initialFocusRef && initialFocusRef.current) {\n        initialFocusRef.current.focus();\n      }\n\n      return () => {\n        if (finalFocusRefCurrentVal) {\n          finalFocusRefCurrentVal.focus();\n        }\n      };\n    }, [finalFocusRef, initialFocusRef]);\n\n    useKeyboardDismissable({\n      enabled: true,\n      callback: onClose,\n    });\n\n    let arrowElement = null;\n    let restChildren: any = [];\n    React.Children.forEach(props.children, (child) => {\n      if (child.type.displayName === 'PopperArrow') {\n        arrowElement = React.cloneElement(child, {\n          backgroundColor: child.props.color ?? color,\n        });\n      } else {\n        restChildren.push(child);\n      }\n    });\n\n    const accessibilityProps =\n      Platform.OS === 'web'\n        ? ({\n            'accessibilityRole': 'dialog',\n            'aria-labelledby': headerMounted ? headerId : undefined,\n            'aria-describedby': bodyMounted ? bodyId : undefined,\n          } as any)\n        : {};\n\n    return (\n      <Popper.Content\n        nativeID={popoverContentId}\n        {...accessibilityProps}\n        {...newProps}\n        {...props}\n        ref={ref}\n      >\n        {arrowElement}\n        {restChildren}\n      </Popper.Content>\n    );\n  }\n);\n\nPopoverContent.displayName = 'PopoverContent';\n"],"mappings":";;;;;;AAAA,IAAAA,MAAA,GAAAC,OAAA;AAKA,IAAAC,MAAA,GAAAC,sBAAA,CAAAF,OAAA;AACA,IAAAG,YAAA,GAAAH,OAAA;AAEA,IAAAI,OAAA,GAAAJ,OAAA;AACA,IAAAK,eAAA,GAAAL,OAAA;;;AAEO,IAAMM,cAAc,GAAGL,MAAA,CAAAM,OAAA,CAAMC,UAAN,CAC5B,UAACC,KAAD,EAA8BC,GAA9B,EAA2C;EAAA,IAAAC,IAAA,EAAAC,KAAA,EAAAC,cAAA;EAAA,IAAAC,iBAAA,GAUrCb,MAAA,CAAAM,OAAA,CAAMQ,UAAN,CAAiBV,eAAA,CAAAW,cAAjB,CAVqC;IAEvCC,OAFuC,GAAAH,iBAAA,CAEvCG,OAFuC;IAGvCC,eAHuC,GAAAJ,iBAAA,CAGvCI,eAHuC;IAIvCC,aAJuC,GAAAL,iBAAA,CAIvCK,aAJuC;IAKvCC,gBALuC,GAAAN,iBAAA,CAKvCM,gBALuC;IAMvCC,aANuC,GAAAP,iBAAA,CAMvCO,aANuC;IAOvCC,WAPuC,GAAAR,iBAAA,CAOvCQ,WAPuC;IAQvCC,MARuC,GAAAT,iBAAA,CAQvCS,MARuC;IASvCC,QATuC,GAAAV,iBAAA,CASvCU,QATuC;EAWzC,IAAIC,QAAQ,GAAG,IAAA1B,MAAA,CAAA2B,kBAAA,EAAmB,gBAAnB,EAAqCjB,KAArC,CAAf;EAEA,IAAMkB,iBAAiB,IAAAhB,IAAA,IAAAC,KAAA,IAAAC,cAAA,GACrBJ,KAAK,CAACmB,OADe,YAAAf,cAAA,GAErBJ,KAAK,CAACoB,EAFe,YAAAjB,KAAA,GAGrBH,KAAK,CAACqB,eAHe,YAAAnB,IAAA,GAIrBc,QAAQ,CAACK,eAJX;EAKA,IAAMC,KAAK,GAAG,IAAAhC,MAAA,CAAAiC,QAAA,EAAS,QAAT,EAAmBL,iBAAnB,CAAd;EAEA1B,MAAA,CAAAM,OAAA,CAAM0B,SAAN,CAAgB,YAAM;IACpB,IAAIC,uBAAuB,GAAGf,aAAH,oBAAGA,aAAa,CAAEgB,OAA7C;IACA,IAAIjB,eAAe,IAAIA,eAAe,CAACiB,OAAvC,EAAgD;MAC9CjB,eAAe,CAACiB,OAAhB,CAAwBC,KAAxB;IACD;IAED,OAAO,YAAM;MACX,IAAIF,uBAAJ,EAA6B;QAC3BA,uBAAuB,CAACE,KAAxB;MACD;IACF,CAJD;EAKD,CAXD,EAWG,CAACjB,aAAD,EAAgBD,eAAhB,CAXH;EAaA,IAAAnB,MAAA,CAAAsC,sBAAA,EAAuB;IACrBC,OAAO,EAAE,IADY;IAErBC,QAAQ,EAAEtB;EAFW,CAAvB;EAKA,IAAIuB,YAAY,GAAG,IAAnB;EACA,IAAIC,YAAiB,GAAG,EAAxB;EACAxC,MAAA,CAAAM,OAAA,CAAMmC,QAAN,CAAeC,OAAf,CAAuBlC,KAAK,CAACmC,QAA7B,EAAuC,UAACC,KAAD,EAAW;IAChD,IAAIA,KAAK,CAACC,IAAN,CAAWC,WAAX,KAA2B,aAA/B,EAA8C;MAAA,IAAAC,kBAAA;MAC5CR,YAAY,GAAGvC,MAAA,CAAAM,OAAA,CAAM0C,YAAN,CAAmBJ,KAAnB,EAA0B;QACvCf,eAAe,GAAAkB,kBAAA,GAAEH,KAAK,CAACpC,KAAN,CAAYsB,KAAd,YAAAiB,kBAAA,GAAuBjB;MADC,CAA1B,CAAf;IAGD,CAJD,MAIO;MACLU,YAAY,CAACS,IAAb,CAAkBL,KAAlB;IACD;EACF,CARD;EAUA,IAAMM,kBAAkB,GACtBhD,YAAA,CAAAiD,QAAA,CAASC,EAAT,KAAgB,KAAhB,GACK;IACC,qBAAqB,QADtB;IAEC,mBAAmBhC,aAAa,GAAGG,QAAH,GAAc8B,SAF/C;IAGC,oBAAoBhC,WAAW,GAAGC,MAAH,GAAY+B;EAH5C,CADL,GAMI,EAPN;EASA,OACErD,MAAA,CAAAM,OAAA,CAAAgD,aAAA,CAACnD,OAAA,CAAAoD,MAAD,CAAQC,OAAR,MAAAC,SAAA,CAAAnD,OAAA;IACEoD,QAAQ,EAAEvC;EADZ,GAEM+B,kBAFN,EAGM1B,QAHN,EAIMhB,KAJN;IAKEC,GAAG,EAAEA,GALP;IAAAkD,MAAA,EAAAC,KAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,IAOG1B,YAPH,EAQGC,YARH,CADF;AAYD,CAxE2B,CAAvB;;AA2EPnC,cAAc,CAACyC,WAAf,GAA6B,gBAA7B"},"metadata":{},"sourceType":"script","externalDependencies":[]}